{% extends "base.html" %}
{% load get_data %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
	<form method="POST">
		{% csrf_token %}
	
<!-- 		<h2>PERSONAL DATA</h2>
		{#applicant_name_form#} -->

		<!-- <br /><br />
		{{personal_data_form.age}}
		{{personal_data_form.birth_date}}
		{{personal_data_form.birth_place}}
		{{personal_data_form.landline_1}}
		{{personal_data_form.mobile_1}}
		{{personal_data_form.email_address_1}}
		{{personal_data_form.landline_2}}
		{{personal_data_form.mobile_2}}
		{{personal_data_form.email_address_2}}
		{{personal_data_form.preferred_vessel_type}}
		{{personal_data_form.sss}}
		{{personal_data_form.tin}}
		{{personal_data_form.pagibig}}
		{{personal_data_form.philhealth}}
		{{personal_data_form.dialect}}
		{{personal_data_form.civil_status}}
		{{personal_data_form.english}}
		{{personal_data_form.father_last_name}}
		{{personal_data_form.father_first_name}}
		{{personal_data_form.father_middle_name}}
		{{personal_data_form.mother_last_name}}
		{{personal_data_form.mother_first_name}}
		{{personal_data_form.mother_middle_name}} -->

<!-- 		<br /><br />
		{{permanent_address_form.permanent_barangay}}
		{{permanent_address_form.permanent_municipality}}
		{{permanent_address_form.permanent_unit}}
		{{permanent_address_form.permanent_street}}
		{{permanent_address_form.permanent_zip}} -->

<!-- 		<br /><br />
		{{current_address_form.current_barangay}}
		{{current_address_form.current_municipality}}
		{{current_address_form.current_unit}}
		{{current_address_form.current_street}}
		{{current_address_form.current_zip}} -->

		{{spouse_form.user}}
<!-- 		
		Last Name: {{spouse_form.spouse_last_name}}
		First Name: {{spouse_form.spouse_first_name}}
		Middle Name: {{spouse_form.spouse_middle_name}}
		Married Date: {{spouse_form.married_date}}
		Birth Date: {{spouse_form.birthdate}}
		Contact: {{spouse_form.spouse_contact}} -->

		<!-- {{ college_form.management_form }}
 		 <h3>College</h3>
 		{#college_form#}
 		
 		{% for college in college_form %}
 			<p>
 				<button class="btn btn-warning update-college-delete" type="button" data-id="{{college.id.value}}">Delete</button>
 				{{college.id}}
 				{{college.user}}
 				{{college.college}}
 				{{college.degree}}
 				{{college.collegeyear_from}}
 				{{college.collegeyear_to}}
 			</p>
 		{% endfor %} -->

 		
<!--         {{ vocational_form.vocational }}
		{{ vocational_form.vocationalyear_from }}
		{{ vocational_form.vocationalyear_to }}  -->

<!--         {{ highschool_form.highschool }}
		{{ highschool_form.schoolyear_from }}
		{{ highschool_form.schoolyear_to }} -->

<!-- 		{{ primaryschool_form.primaryschool }}
		{{ primaryschool_form.primaryschoolyear_from }}
		{{ primaryschool_form.primaryschoolyear_to }} -->

<!-- 		{#land_employment_form#}
		{{ land_employment_form.management_form }}
		{% for land_employment_forms in land_employment_form %}
			{{ land_employment_forms.id }}
			{{ land_employment_forms.user }}
			First Name: {{ land_employment_forms.employer_first_name }}
			Middle Name: {{ land_employment_forms.employer_middle_name }}
			Last Name: {{ land_employment_forms.employer_last_name }}
			Land Position: {{ land_employment_forms.land_position }}
			Start Date: {{ land_employment_forms.start_date }}
			End Date: {{ land_employment_forms.end_date }}
			First Name: {{ land_employment_forms.contact_first_name }}
			Middle Name: {{ land_employment_forms.contact_middle_name }}
			Last Name: {{ land_employment_forms.contact_last_name }}
			Contact Person Number: {{ land_employment_forms.contact_person_number }}
			Steet: {{ land_employment_forms.employer_street }}
			Unit: {{ land_employment_forms.employer_unit }}
			Barangay: {{ land_employment_forms.employer_barangay }}
			Municipality: {{ land_employment_forms.employer_municipality }}
			Zip: {{ land_employment_forms.employer_zip }}	
		{% endfor %} -->

		<!-- {#beneficiary_form#}
		{{ beneficiary_form.management_form }}
		{% for beneficiary_forms in beneficiary_form %}
			{{ beneficiary_forms.id }}
			{{ beneficiary_forms.user }}
			First Name: {{ beneficiary_forms.beneficiary_first_name }}
			Middle Name: {{ beneficiary_forms.beneficiary_middle_name }}
			Last Name: {{ beneficiary_forms.beneficiary_last_name }}
			Relationship: {{beneficiary_forms.relationship}}
			Number: {{beneficiary_forms.beneficiary_number}}
		{% endfor %} -->

<!-- 		{#allotee_form#}
		{{ allotee_form.management_form }}
		{% for allotee_forms in allotee_form %}
			{{ allotee_forms.id }}
			{{ allotee_forms.user }}
			First Name: {{ allotee_forms.allotee_first_name }}
			Middle Name: {{ allotee_forms.allotee_middle_name }}
			Last Name: {{ allotee_forms.allotee_last_name }}
			Relationship: {{allotee_forms.allotee_relationship}}
			Number: {{allotee_forms.allotee_number}}
			Bank: {{allotee_forms.bank}}
			Account Number: {{allotee_forms.allotment_account_number}}
			Steet: {{ allotee_forms.allotee_street }}
			Unit: {{ allotee_forms.allotee_unit }}
			Barangay: {{ allotee_forms.allotee_barangay }}
			Municipality: {{ allotee_forms.allotee_municipality }}
			Zip: {{ allotee_forms.allotee_zip }}	
		{% endfor %} -->

<!-- 		{#passport_form#}
		Number: {{passport_form.passport}}
		Place Issued: {{passport_form.passport_place_issued}}
		Date Issued: {{passport_form.passport_date_issued}}
		Date Expiry: {{passport_form.passport_expiry}} -->

<!-- 		{#sbook_form#}
		Number: {{sbook_form.sbook}}
		Place Issued: {{sbook_form.sbook_place_issued}}
		Date Issued: {{sbook_form.sbook_date_issued}}
		Date Expiry: {{sbook_form.sbook_expiry}} -->

<!-- 		{#src_form#}
		Number: {{src_form.src}}
		Place Issued: {{src_form.src_rank}}
		Date Issued: {{src_form.src_date_issued}}
		Date Expiry: {{src_form.src_expiry}} -->

		<!-- {#stcw_endorsement_form#}
		Number: {{stcw_endorsement_form.stcw_endorsement}}
		Rank: {{stcw_endorsement_form.stcw_endorsement_rank}}
		Date Issued: {{stcw_endorsement_form.stcw_endorsement_date_issued}}
		Date Expiry: {{stcw_endorsement_form.stcw_endorsement_date_expiry}} -->

		<!-- {#stcw_certificate_form#}
		Number: {{stcw_certificate_form.stcw_certificate}}
		Rank: {{stcw_certificate_form.stcw_certificate_rank}}
		Date Issued: {{stcw_certificate_form.stcw_certificate_date_issued}}
		Date Expiry: {{stcw_certificate_form.stcw_certificate_date_expiry}} -->

		<!-- {#goc_form#}
		Number: {{goc_form.goc}}
		Rank: {{goc_form.goc_rank}}
		Date Issued: {{goc_form.goc_date_issued}}
		Date Expiry: {{goc_form.goc_expiry}} -->

		<!-- {#ntc_license_form#}
		Number: {{ntc_license_form.ntc_license}}
		Rank: {{ntc_license_form.ntc_license_rank}}
		Date Issued: {{ntc_license_form.ntc_license_date_issued}}
		Date Expiry: {{ntc_license_form.ntc_license_date_expiry}} -->

		<!-- {#license_form#}
		Number: {{license_form.license}}
		Place Issued: {{license_form.license_place_issued}}
		Rank: {{license_form.license_rank}}
		Grade: {{license_form.license_grade}}
		Date Issued: {{license_form.license_date_issued}}
		Date Expiry: {{license_form.license_expiry}} -->

		<!-- {#coc_form#}
		Number: {{coc_form.coc}}
		Place Issued: {{coc_form.coc_place_issued}}
		Rank: {{coc_form.coc_rank}}
		Grade: {{coc_form.coc_grade}}
		Date Issued: {{coc_form.coc_date_issued}}
		Date Expiry: {{coc_form.coc_expiry}} -->

		<!-- {#us_visa_form#}
		Visa: {{us_visa_form.us_visa}}
		Date Expiry: {{us_visa_form.us_visa_expiry}}
		Date Issued: {{us_visa_form.us_visa_date_issued}}
		Number: {{us_visa_form.us_visa_number}}
		Place Issued: {{us_visa_form.us_visa_place_issued}} -->

		<!-- {#schengen_visa_form#}
		Visa: {{schengen_visa_form.schengen_visa}}
		Date Expiry: {{schengen_visa_form.schengen_visa_expiry}}
		Date Issued: {{schengen_visa_form.schengen_visa_date_issued}}
		Number: {{schengen_visa_form.schengen_visa_number}}
		Place Issued: {{schengen_visa_form.schengen_visa_place_issued}} -->

		<!-- {{ emergency_contact_form.management_form }}
		{% for emergency_contact_forms in emergency_contact_form %}
			{{ emergency_contact_forms.id }}
			{{ emergency_contact_forms.user }}
			First Name: {{ emergency_contact_forms.emergency_first_name }}
			Middle Name: {{ emergency_contact_forms.emergency_middle_name }}
			Last Name: {{ emergency_contact_forms.emergency_last_name }}
			Relationship: {{emergency_contact_forms.relationship}}
			Contact: {{emergency_contact_forms.emergency_number}}
			Steet: {{ emergency_contact_forms.emergency_street }}
			Unit: {{ emergency_contact_forms.emergency_unit }}
			Barangay: <input class=" autocomplete vTextField autocomplete-light-text-widget" data-autocomplete-choice-selector="[data-value]" data-autocomplete-url="/autocomplete/BarangayAutocomplete/" data-widget-bootstrap="text" id="id_emergencycontact_set-{{ forloop.counter0 }}-emergency_barangay" name="emergencycontact_set-{{ forloop.counter0 }}-emergency_barangay" type="text" autocomplete="off" data-widget-ready="1" value="{{ emergency_contact_forms.emergency_zip.value|get_data_field:'Zip,barangay' }}">
			Municipality: <input class="autocomplete vTextField autocomplete-light-text-widget" data-autocomplete-choice-selector="[data-value]" data-autocomplete-url="/autocomplete/MunicipalityAutocomplete/" data-widget-bootstrap="text" id="id_emergencycontact_set-{{ forloop.counter0 }}-emergency_municipality" name="emergencycontact_set-{{ forloop.counter0 }}-emergency_municipality" type="text" autocomplete="off" data-widget-ready="1" title="" data-original-title="" value="{{ emergency_contact_forms.emergency_zip.value|get_data_field:'Zip,municipality' }}">
			Zip: <input id="id_emergencycontact_set-{{ forloop.counter0 }}-emergency_zip" min="0" name="emergencycontact_set-{{ forloop.counter0 }}-emergency_zip" type="number" value="{{ emergency_contact_forms.emergency_zip.value|get_data:'Zip' }}">
		{% endfor %} -->

<!-- 		{{ flag_form.management_form }}
		<table>
			<thead>
				<tr>
					<th>Country</th>
					<th>SB No.</th>
					<th>Sbook Expiry</th>
					<th>License No.</th>
					<th>License Expiry</th>
					<th>Rank</th>
				</tr>
			</thead>

			<tbody>
				{% for flag_forms in flag_form %}
					{{ flag_forms.flags_documents }}
					{{ flag_forms.id }}
				<tr>
					<td>{{ flag_forms.flags|attr:"style: display:none" }}{{ flag_forms.flags.value|get_data:'Flags' }}</td>
					<td>{{ flag_forms.sbook_number }}</td>
	                <td>{{ flag_forms.sbook_expiry }}</td>
	                <td>{{ flag_forms.license_number }}</td>
	                <td>{{ flag_forms.license_expiry }}</td>
	                <td>{{ flag_forms.flags_rank }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table> -->

		<!-- {{ trainings_certificate_form.management_form }}
		{#trainings_certificate_form#}

		<table>
			<thead>
				<tr>
					<th>Training Course</th>
					<th>Number</th>
					<th>Date Issued</th>
					<th>Date Expiry</th>
				</tr>
			</thead>

			<tbody>
				{% for trainings_certificate_forms in trainings_certificate_form %}
					{% if 'Certificate of Proficiency'|lower in trainings_certificate_forms.trainings_certificates.value|get_data:'TrainingCertificates'|lower %}
						{{ trainings_certificate_forms.trainings_certificate_documents }}
						{{ trainings_certificate_forms.id }}
						<tr>
							<td>{{ trainings_certificate_forms.trainings_certificates|attr:"style: display:none" }} {{ trainings_certificate_forms.trainings_certificates.value|get_data:'TrainingCertificates' }}</td>
							<td>{{ trainings_certificate_forms.number }}</td>
			                <td>{{ trainings_certificate_forms.issued }}</td>
			                <td>{{ trainings_certificate_forms.expiry }}</td>
			            </tr>
					{% endif %}
				{% endfor %}
			</tbody>
		</table>

		<table>
			<thead>
				<tr>
					<th>Training Course</th>
					<th>Number</th>
					<th>Date Issued</th>
					<th>Date Expiry</th>
					<th>Place Issued</th>
					<th>School / Training Center</th>
				</tr>
			</thead>

			<tbody>
				{% for trainings_certificate_forms in trainings_certificate_form %}
					{% if 'Certificate of Proficiency'|lower not in trainings_certificate_forms.trainings_certificates.value|get_data:'TrainingCertificates'|lower %}
						{{ trainings_certificate_forms.trainings_certificate_documents }}
						{{ trainings_certificate_forms.id }}
						<tr>
							<td>{{ trainings_certificate_forms.trainings_certificates|attr:"style: display:none" }} {{ trainings_certificate_forms.trainings_certificates.value|get_data:'TrainingCertificates' }}</td>
							<td>{{ trainings_certificate_forms.number }}</td>
			                <td>{{ trainings_certificate_forms.issued }}</td>
			                <td>{{ trainings_certificate_forms.expiry }}</td>
			                <td><input class="autocomplete vTextField autocomplete-light-text-widget" data-autocomplete-choice-selector="[data-value]" data-autocomplete-url="/autocomplete/TrainingPlaceIssuedAutocomplete/" data-widget-bootstrap="text" id="id_trainingcertificatedocumentsdetailed_set-{{ forloop.counter0 }}-training_place_issued" name="trainingcertificatedocumentsdetailed_set-{{ forloop.counter0 }}-training_place_issued" type="text" value="{{ trainings_certificate_forms.training_place_issued.value|get_data:'TrainingPlaceIssued' }}"></td>
			                <td><input class="autocomplete vTextField autocomplete-light-text-widget" data-autocomplete-choice-selector="[data-value]" data-autocomplete-url="/autocomplete/TrainingCenterAutocomplete/" data-widget-bootstrap="text" id="id_trainingcertificatedocumentsdetailed_set-{{ forloop.counter0 }}-place_trained" name="trainingcertificatedocumentsdetailed_set-{{ forloop.counter0 }}-place_trained" type="text" value="{{ trainings_certificate_forms.place_trained.value|get_data:'TrainingCenter' }}"></td>
						</tr>
					{% endif %}
				{% endfor %}
			</tbody>
		</table> -->

		<!-- <h3>Evaluation</h3>
		{{ evaluation_form.evaluation }} -->

		<!-- {# if dependents_forms.id.value #} - will be used as a conditional for jquery and css via adding more -->
		<!-- {{ dependents_form.management_form }}
		{% for dependents_forms in dependents_form %}
			{# if dependents_forms.id.value #}
				{{ dependents_forms.id }}
				{{ dependents_forms.user }}
				First Name: {{ dependents_forms.dependent_first_name }}
				Middle Name: {{ dependents_forms.dependent_middle_name }}
				Last Name: {{ dependents_forms.dependent_last_name }}
				Relationship: {{dependents_forms.dependent_relationship}}
				Contact: {{dependents_forms.dependent_number}}
				Steet: {{ dependents_forms.dependent_street }}
				Unit: {{ dependents_forms.dependent_unit }}

				Barangay: <input class=" autocomplete vTextField autocomplete-light-text-widget" data-autocomplete-choice-selector="[data-value]" data-autocomplete-url="/autocomplete/BarangayAutocomplete/" data-widget-bootstrap="text" id="id_dependents_set-{{ forloop.counter0 }}-dependent_barangay" name="dependents_set-{{ forloop.counter0 }}-dependent_barangay" type="text" autocomplete="off" data-widget-ready="1" value="{{ dependents_forms.dependent_zip.value|get_data_field:'Zip,barangay' }}">
				Municipality: <input class="autocomplete vTextField autocomplete-light-text-widget" data-autocomplete-choice-selector="[data-value]" data-autocomplete-url="/autocomplete/MunicipalityAutocomplete/" data-widget-bootstrap="text" id="id_dependents_set-{{ forloop.counter0 }}-dependent_municipality" name="dependents_set-{{ forloop.counter0 }}-dependent_municipality" type="text" autocomplete="off" data-widget-ready="1" title="" data-original-title="" value="{{ dependents_forms.dependent_zip.value|get_data_field:'Zip,municipality' }}">
				Zip: <input id="id_dependents_set-{{ forloop.counter0 }}-dependent_zip" min="0" name="dependents_set-{{ forloop.counter0 }}-dependent_zip" type="number" value="{{ dependents_forms.dependent_zip.value|get_data:'Zip' }}">
			{# endif #}
		{% endfor %} -->

		<!-- {#sea_service_form#}
		{{ sea_service_form.management_form }}

		<table>
			<thead>
				<tr>
					<th>Vessel Name</th>
					<th>Vessel Type</th>
					<th>Flag</th>
					<th>GRT</th>
					<th>DWT</th>
					<th>Year Built</th>
					<th>Engine Type</th>
					<th>BHP</th>
					<th>HP</th>
					<th>KW</th>
					<th>Manning Agency</th>
					<th>Principal</th>
					<th>Trade Area</th>
					<th>Date Joined</th>
					<th>Date Left</th>
					<th>Days</th>
					<th>Rank</th>
					<th>Cause of Discharge</th>				
				</tr>
			</thead>

			<tbody>
				{% for sea_service_forms in sea_service_form %}
					{{ sea_service_forms.sea_service_documents }}
					{{ sea_service_forms.id }}
					<tr>				
						<td><input class="autocomplete vTextField autocomplete-light-text-widget" data-autocomplete-choice-selector="[data-value]" data-autocomplete-url="/autocomplete/ManshipVesselNameAutocomplete/" data-widget-bootstrap="text" id="id_seaservice_set-{{ forloop.counter0 }}-vessel_name" name="seaservice_set-{{ forloop.counter0 }}-vessel_name" type="text" autocomplete="off" data-widget-ready="1" title="" data-original-title="" value="{{ sea_service_forms.vessel_name.value|get_data:'VesselName' }}"></td>
						<td>{{ sea_service_forms.vessel_type }}</td>
						<td>{{ sea_service_forms.flag }}</td>
						<td>{{ sea_service_forms.grt }}</td>
						<td>{{ sea_service_forms.dwt }}</td>
						<td>{{ sea_service_forms.year_built }}</td>
						<td>{{ sea_service_forms.engine_type }}</td>
						<td><input type="text"></td>
						<td>{{ sea_service_forms.hp }}</td>
						<td>{{ sea_service_forms.kw }}</td>
						<td>{{ sea_service_forms.manning_agency }}</td>						
						<td><input class="autocomplete vTextField autocomplete-light-text-widget" data-autocomplete-choice-selector="[data-value]" data-autocomplete-url="/autocomplete/ManshipPrincipalAutocomplete/" data-widget-bootstrap="text" id="id_seaservice_set-{{ forloop.counter0 }}-principal" name="seaservice_set-{{ forloop.counter0 }}-principal" type="text" autocomplete="off" data-widget-ready="1" title="" data-original-title="" value="{{ sea_service_forms.principal.value|get_data:'Principal' }}"></td>
						<td><input class="autocomplete vTextField autocomplete-light-text-widget" data-autocomplete-choice-selector="[data-value]" data-autocomplete-url="/autocomplete/TradeAreaAutocomplete/" data-widget-bootstrap="text" id="id_seaservice_set-{{ forloop.counter0 }}-trade_area" name="seaservice_set-{{ forloop.counter0 }}-trade_area" type="text" autocomplete="off" data-widget-ready="1" title="" data-original-title="" value="{{ sea_service_forms.trade_area.value|get_data:'TradeArea' }}"></td>
						<td>{{ sea_service_forms.date_joined }}</td>
						<td>{{ sea_service_forms.date_left }}</td>
						<td>{{ sea_service_forms.duration }}</td>
						<td>{{ sea_service_forms.rank }}</td>
						<td>{{ sea_service_forms.cause_of_discharge }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table> -->

		{# mariner_status_form #}

<!-- 		Principal: {{ mariner_status_form.mariner_principal }}
		Status: {{ mariner_status_form.mariner_status }}
		Since: {{ mariner_status_form.since }}
		Until: {{ mariner_status_form.until }}
		Comment: {{ mariner_status_form.mariner_status_comment }} -->

		<!-- <button class="ajax-flags">SUBMIT FLAGS</button> -->
		<p><input type="submit"></p>

	</form>

{% endblock %}
{% block extra_scripts %}
	<script type="text/javascript">
		delete_on_form_set = "{% url 'delete_on_form_set' %}"
		$("body").on("click", ".update-college-delete", function(){
			// $(this).parent().remove()
			if (!confirm("WARNING! This will be completely deleted. Do you want to proceed?")){
		      return false;
		    }else{
		    	id = $(this).attr("data-id");    	
		    	$.get(delete_on_form_set, { id: id }, function(data){
			        $(this).parent().remove();
			    });
		    }
		});
		// $("tbody.flags").children().find("select.flags").each(function(){
		// 	flag = $('option:selected', this).text();
		// 	$(this).after(flag);
		// 	$(this).remove();
		// });

	</script>
{% endblock %}