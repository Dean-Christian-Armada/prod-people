{% extends "base.html" %}
{% load static %}

{% block content %}
<style type="text/css">
  .navbar {
  background: #2e76b8;
  }
.navbar-toggle{
    height: 40px;
  }
.navbar-right{
  margin-top: 10px;
  }
.footer{
font-size: 12px; 
padding-top: 5px;
background: #fff;
height: 100%;
margin: 15px -25px 0 -20px;   
border-top: 3px solid #2e76b8;  
  }
.navbar-header{
  margin-top: -5px;
  }
.thead-main{
  background: #82ca9c;  
  
  }
.icon-bar{
  background-color: #fff;
  }
.navbar-fixed-top{
  height: 90px;
  border-bottom: 5px solid #04508e;
}
.navbar-brand{
  margin-top: 5px;
}
.navbar-collapse{
  margin-top: 10px;
}
.sidebar{
  position: fixed;
  top: 90px;
  border-right: 2px solid #c0c0c0;
  left: -15px;
  bottom: 0;
  background-color: #ebebeb;
  padding-left: 0px;
  }
.nav-sidebar > li > a{
  padding-left: 20px;
  padding-right: -20px;
  color: #fff !important;
  background-color: #02be9b !important;
  margin-right: -15px;
  }
.nav-sidebar > li > a:hover{
  background-color: #82ca9c;
  color: #fff;
  }
.main{
  margin-top: 80px;
  color: #04508e;
  padding-right: 40px;
  }
.search-btn{
  border-radius: none;
  background: #2e76b8;
  border: 1px solid #2e76b8;  
  }
.search-btn:hover {
  color: #fff;
  background-color: #04508e;
  border-color: #04508e;
}
.search-input{
  border: 1px solid #2e76b8;  
  }
body{
  background: #fafafa;  
  }
.thead-main{
  color: #fff;
  }
  
.pagination > li > a,
.pagination > li > span {
  position: relative;
  background: #82ca9c;
  padding: 6px 12px;
  margin-left: -1px;
  line-height: 1.42857143;
  color: #fff;
  margin-right: 2px;
  text-decoration: none;
  border: 1px solid #82ca9c;
}
  
/* Custom Panel */
  
.panel-body-blue{
  border-bottom: 3px solid #c0c0c0;
  }
.panel-msmi-blue .panel-heading{
    border-bottom: 4px solid #04508e;
  }
.panel-body-green{
    border-bottom: 3px solid #c0c0c0;
  }
.panel-msmi-green .panel-heading{
    border-bottom: 4px solid #02be9b;
  }
.panel-info .panel-heading{
  background-color: #f15922;
  color: #fff;
  }
.panel-info{
  border-color: #f15922;
  }
.filter-drop{
  background: #fafafa;
  box-shadow: none;
  }
.nav-dropdown{
  background: #2e76b8;  
  }
.navmenu{
  background: #2e76b8;
  border-color: #2e76b8;
  box-shadow: none;"
  } 
/* Panel Custom */


.panel-msmi-blue{
  border-color: #2e76b8;
}
.panel-msmi-blue > .panel-heading {
  color: #fff;
  background-color: #2e76b8;
  border-color: 1px solid #2e76b8;
}
.panel-msmi-blue > .panel-heading + .panel-collapse > .panel-body {
  border-color: 1px solid #2e76b8;
}
.panel-msmi-blue > .panel-heading .badge {
  color: #dff0d8;
  background-color: #3c763d;
}
.panel-msmi-blue > .panel-footer + .panel-collapse > .panel-body-green {
  border-color: 1px solid 2e76b8;
}


.panel-msmi-green {
  border-color: #02be9b;
}
.panel-msmi-green > .panel-heading {
  color: #fff;
  background-color: #82ca9c;
  border-color: 1px solid #02be9b;
}
.panel-msmi-green > .panel-heading + .panel-collapse > .panel-body {
  border-color: 1px solid #02be9b;
}
.panel-msmi-green > .panel-heading .badge {
  color: #dff0d8;
  background-color: #3c763d;
}
.panel-msmi-green > .panel-footer + .panel-collapse > .panel-body-green {
  border-color: 1px solid 02be9b;
}

/* Button Custom */

.btn-msmi-green {
  color: #fff;
  background-color: #02be9b;
  border-color: #02be9b;
}
.btn-msmi-green:focus,
.btn-msmi-green.focus {
  color: #fff;
  background-color: #02be9b;
  border-color: #02be9b;
}
.btn-msmi-green:hover {
  color: #fff;
  background-color: #82ca9c;
  border-color: #82ca9c;
}

.btn-msmi-blue {
  color: #fff;
  background-color: #2e76b8;
  border-color: #2e76b8;
}
.btn-msmi-blue:focus,
.btn-msmi-blue.focus {
  color: #fff;
  background-color: #2e76b8;
  border-color: #2e76b8;
}
.btn-msmi-blue:hover {
  color: #fff;
  background-color: #04508e;
  border-color: #04508e;
}

/* Input Group Custom */

.msmi-search{
  background: #2e76b8;
  color: #fff;
  border-color: #2e76b8;
  }

tr:hover{
  cursor: pointer;
  background-color: #02be9b !important;
}

/* Panel Footer  Custom */


.panel-footer {
  padding: 10px 15px;
  background-color: #fff;
  border-top: 1px solid #2e76b8;
  border-bottom-right-radius: 3px;
  border-bottom-left-radius: 3px;
}
</style>
<body>
<div id="wrapper">
    <nav class="navbar navbar-fixed-top">
        <div class="container-fluid">

        <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
              </button>

    <a class="navbar-brand" href="#"><img src="/static/img/main.png" width="125" height="60"></a>
            
                </div><!--End of Navbar Header-->
                
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav navbar-right">
                        <li><a href="#" style="color: #fff; background: #2e76b8;"><!-- Username -->{{ name }} ({{ request.user }})</a></li>
                        <li class="dropdown">
<a href="#" class="dropdown-toggle nav-dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="background: #2e76b8;"><img src="{% static 'img/mrad.pix' %}" width="30" height="30"> <span class="caret"></span></a>
              <ul class="dropdown-menu navmenu ">
                          <li><a href="#"><span class="msmi-logout"> Manage Account</span></a></li>
                          <li><a href="#">Setting</a></li>
                          <li role="separator" class="divider"></li>
                          <li><a href="{% url 'logout' %}">Logout</a></li>
                    </ul>
                        </li>
                  </ul>
          </div><!--End of Navbar Collapse-->
          </div><!--End of Container Fluid-->
    </nav>

<div class="row">
  <div class="col-sm-3 col-md-2 sidebar">
        <ul class="nav nav-sidebar">
              <li class="active"><a href="#">Mariner Profiles<span class="sr-only">(current)</span></a></li>
              <!--<li><a href="#">Payroll</a></li>-->
            
            
            
            </ul>
    
    </div><!--End of Sidebar-->
    
    <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
      <div class="page-header"><h1>MARINER PROFILES</h1></div>
            <div class="panel panel-msmi-blue">
              <div class="panel-heading"><strong>Filter</strong></div>
                  <div class="panel-body panel-body-blue">
                      <div class="row">
                        <form method="POST" id="myform" action="{% url 'mariners_profiles' %}">
                          {% csrf_token %}
                          <div class="col-md-12">
                              <p style="color: #00aeef;"><strong>Note:</strong>&nbsp;<i>Detailed instructions will be written here.</i><a href="{% url 'mariners_profiles' %}" class="btn btn-info" role="button"> Reset Filter</a></p>
                            </div><!--End of Col 12-->
                         </div><!--End of Row-->
                         <div class="row">
                          <div class="form-inline">
                            <div class="col-md-3">
                              <label>Rank:&nbsp;</label>
                               <select name="rank" class="form-control">
                                  <option>{% if request.GET.rank %}{{ request.GET.rank }}{% endif %}</option>
                                  {% if not request.GET.rank %}
                                    {% for ranks in rank %}
                                      <option>
                                        {{ ranks|upper }}
                                      </option>
                                    {% endfor %}
                                  {% endif %}
                                </select>
                            </div>
                            <div class="col-md-3">
                            <label>Vessel Type:&nbsp;</label>
                                <select name="vessel_type" class="form-control">
                                  <option>{% if request.GET.vessel_type %}{{ request.GET.vessel_type }}{% endif %}</option>
                                  {% if not request.GET.vessel_type %}
                                    {% for vessel_types in vessel_type %}
                                      <option>
                                        {{ vessel_types|upper }}
                                      </option>
                                    {% endfor %}
                                  {% endif %}
                                </select>
                            </div>
<!--                             <div class="col-md-2">
                            <label>Age:&nbsp;</label>
                                <select name="age" class="form-control">
                                 <option>{% if request.GET.age %}{{ request.GET.age }}{% endif %}</option>
                                  {% if not request.GET.age %}
                                    {% for ages in age %}
                                      <option>
                                        {{ ages }}
                                      </option>
                                    {% endfor %}
                                  {% endif %}
                                </select>
                            </div> -->
                            <div class="col-md-2">
                            <label>US Visa:&nbsp;</label>
                                <select name="us_visa" class="form-control">
                                 <option>{% if request.GET.us_visa %}{% if request.GET.us_visa == "YES" %}YES{% else %}NO{% endif %}{% endif %}</option>
                                  {% if not request.GET.us_visa %}
                                    {% for choices in us_visa reversed %}
                                      <option>{% if choices == True %}YES{% else %}NO{% endif %}</option>
                                      }
                                    {% endfor %}
                                  {% endif %}
                                </select>
                            </div>
                            <div class="col-md-2">
                            <label>Schengen Visa:&nbsp;</label>
                                <select name="schengen_visa" class="form-control">
                                 <option>{% if request.GET.schengen_visa %}{% if request.GET.schengen_visa == "YES" %}YES{% else %}NO{% endif %}{% endif %}</option>
                                  {% if not request.GET.schengen_visa %}
                                    {% for choices in schengen_visa reversed %}
                                      <option>{% if choices == True %}YES{% else %}NO{% endif %}</option>
                                      }
                                    {% endfor %}
                                  {% endif %}
                                </select>
                            </div>
                          </div><!--Form Inline-->
                        </form>
                      </div><!--End of Row-->
                  </div><!--End of Panel Body-->
          </div>
           <form method="GET">
<div class="panel panel-msmi-green">
  <div class="panel-heading" style="padding: 15px;"><strong>Crew Applicants</strong>
      <div class="form-inline pull-right" style="margin-top: -6px;">
                <label>Per Page:</label>
                    <select class="form-control">
                      <option>10</option>
                        <option>50</option>
                        <option>100</option>
                    </select>

      <div class="input-group">
        
              <span class="input-group-btn">
                <button class="btn btn-default search-btn" name="submit"><span class="glyphicon glyphicon-search" style="color: #fff;"></span></button>
              </span>
                
                {{ search.search }}
        </div><!-- /input-group -->
       
                    
            </div>      
 </div>
  </form>
 
 <!--Second Panel-->
      <div class="panel-body panel-body-green">
          <p style="color: #00aeef;"><strong>Note:</strong>&nbsp;<i>Detailed instructions will be written here.</i></p>
          <div class="table table-bordered">
            <table class="table table-striped">
              <thead class="thead-main">
                      <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Rank</th>
                        <th>Age</th>
                        <th>Vessel Type</th>
                        <th>Mobile No.</th>
                        <th>Landline No.</th>
                        <th>US Visa Expiry</th>
                        <th>Schengen Visa Expiry</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% if mariners_profile %}
                        {% for mariners_profile, personal_data, us_visa, schengen_visa in zipped_data %}
                          <tr onclick="window.open('{% url 'mariners_profile' id=mariners_profile.user.id %}', '_blank')">
                            <td>{{ forloop.revcounter }}</td>  
                            <td>{{ mariners_profile|upper }}</td>
                            <td>{{ mariners_profile.position|upper }}</td>
                            <td>{{ personal_data.age }}</td>
                            <td>{{ personal_data.preferred_vessel_type|upper }}</td>
                            <td>+63{{ personal_data.mobile_1 }}</td>
                            <td>{{ personal_data.landline_1 }}</td>
                            <td>{% if us_visa.us_visa_expiry == None %}NO VISA{% else %}{{ us_visa.us_visa_expiry }}{% endif %}</td>
                            <td>{% if schengen_visa.schengen_visa_expiry == None %}NO VISA{% else %}{{ schengen_visa.schengen_visa_expiry }}{% endif %}</td>
                          </tr>
                        {% endfor %}
                      {% else %}
                        <tr>
                          <td colspan="7" align="center"><strong>There are no mariners left in the pool at the moment.</strong></td>
                        </tr>
                      {% endif %}
                    </tbody>
            </table>
    </div>
<div class="row">
    <div class="form-inline">
          <div class="col-md-12">
        
    <!-- <p><strong>Showing 1 of 57 of 57 entries</strong></p> -->
    <p><strong>Showing 1 of 1 entries</strong></p>
        <nav class="pull-right" style="margin-top: -55px;">
        <ul class="pagination">
           <!-- <li>
             <a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
          </li> -->
          <li class="active"><a href="#">1</a></li>
          <!-- <li><a href="#">2</a></li>
          <li><a href="#">3</a></li>
          <li><a href="#">4</a></li>
           <li><a href="#">5</a></li> -->
          <!-- <li>
            <a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
          </li> -->
        </ul>
        </nav>
        
     </div>
  </div>  
</div>

  
</div>
                    
         
           
    </div><!--End of Main-->

<div class="footer" align="center">
<p><strong>Copyright &copy; 2015 Manila Shipmanagement & Manning, Inc. All rights reserved.</strong></p>          
</div>
</div>      

</div><!--End of Container Fluid-->        
</div><!--End of Wrapper-->
{% endblock %}
{% block extra_scripts %}
<script type="text/javascript">
  $(function(){
    $("select").change(function(){
      $("#myform").submit();
    });
  });
</script>
{% endblock %}